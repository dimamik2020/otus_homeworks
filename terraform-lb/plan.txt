[0m[1mRefreshing Terraform state in-memory prior to plan...[0m
The refreshed state will be used to calculate this plan, but will not be
persisted to local or remote state storage.
[0m
[0m[1mgoogle_compute_firewall.firewall_puma: Refreshing state... [id=projects/otus-hometasks/global/firewalls/allow-puma-default][0m
[0m[1mgoogle_compute_instance.app[0]: Refreshing state... [id=projects/otus-hometasks/zones/europe-west2-c/instances/reddit-app-terraformed-1][0m
[0m[1mgoogle_compute_instance.app[2]: Refreshing state... [id=projects/otus-hometasks/zones/europe-west2-c/instances/reddit-app-terraformed-3][0m
[0m[1mgoogle_compute_instance.app[1]: Refreshing state... [id=projects/otus-hometasks/zones/europe-west2-c/instances/reddit-app-terraformed-2][0m
[0m[1mgoogle_compute_instance_group.app-group: Refreshing state... [id=projects/otus-hometasks/zones/europe-west2-c/instanceGroups/reddit-app-group][0m

------------------------------------------------------------------------

An execution plan has been generated and is shown below.
Resource actions are indicated with the following symbols:
  [32m+[0m create
  [33m~[0m update in-place
[0m
Terraform will perform the following actions:

[1m  # google_compute_firewall.firewall_allow_health_check[0m will be created[0m[0m
[0m  [32m+[0m[0m resource "google_compute_firewall" "firewall_allow_health_check" {
      [32m+[0m [0m[1m[0mcreation_timestamp[0m[0m = (known after apply)
      [32m+[0m [0m[1m[0mdestination_ranges[0m[0m = (known after apply)
      [32m+[0m [0m[1m[0mdirection[0m[0m          = (known after apply)
      [32m+[0m [0m[1m[0menable_logging[0m[0m     = (known after apply)
      [32m+[0m [0m[1m[0mid[0m[0m                 = (known after apply)
      [32m+[0m [0m[1m[0mname[0m[0m               = "allow-health-check"
      [32m+[0m [0m[1m[0mnetwork[0m[0m            = "default"
      [32m+[0m [0m[1m[0mpriority[0m[0m           = 1000
      [32m+[0m [0m[1m[0mproject[0m[0m            = (known after apply)
      [32m+[0m [0m[1m[0mself_link[0m[0m          = (known after apply)
      [32m+[0m [0m[1m[0msource_ranges[0m[0m      = [
          [32m+[0m [0m"130.211.0.0/22",
          [32m+[0m [0m"35.191.0.0/16",
        ]
      [32m+[0m [0m[1m[0mtarget_tags[0m[0m        = [
          [32m+[0m [0m"allow-health-check",
        ]

      [32m+[0m [0mallow {
          [32m+[0m [0m[1m[0mports[0m[0m    = []
          [32m+[0m [0m[1m[0mprotocol[0m[0m = "tcp"
        }
    }

[1m  # google_compute_instance.app[0][0m will be updated in-place[0m[0m
[0m  [33m~[0m[0m resource "google_compute_instance" "app" {
        [1m[0mcan_ip_forward[0m[0m       = false
        [1m[0mcpu_platform[0m[0m         = "Intel Broadwell"
        [1m[0mcurrent_status[0m[0m       = "RUNNING"
        [1m[0mdeletion_protection[0m[0m  = false
        [1m[0menable_display[0m[0m       = false
        [1m[0mguest_accelerator[0m[0m    = []
        [1m[0mid[0m[0m                   = "projects/otus-hometasks/zones/europe-west2-c/instances/reddit-app-terraformed-1"
        [1m[0minstance_id[0m[0m          = "3037258676134288559"
        [1m[0mlabel_fingerprint[0m[0m    = "42WmSpB8rSM="
        [1m[0mlabels[0m[0m               = {}
        [1m[0mmachine_type[0m[0m         = "f1-micro"
        [1m[0mmetadata[0m[0m             = {
            "ssh-keys" = <<~EOT
                Dima:ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAABgQDzkFFCmLAbrHZj8cGLVaSIHONQoekpNWp5v/WZsWfRT8bpB55TXWl6QcMFZRy7MuWVA2pJEOWXJhFfEf1dwp5rTUaXwOQvJZGYQBGyFbkIyNljDUcEWfbKM4S2OmZZ7pA6kcBi0EgPqAFix3UD/t8B6NY3pv7tnHgAu7jrWUHgqWYRYtOH5jmLQYvwVLna2vuXlun6T0cGGkKfhKwqkgx0DxY+4yt0rzM15l9Ij+8SoCP2dnzsWvq6SHfMaJzxgAdM7OvycsXlxNqg6gHsdKqBAVYdHX8DPMSIjc/sGSU94/nFOFUUtT4Rp5PNBpLjdAI/PS4fuDzQo0GYk+AIGqysjSugUQ86RbbYQNwIDCd3Zxsq3qwRVwfmKpwA/8AqcRwXlfX3Oi8TZyPSE1wWUh/Hpiua4+ywtHWWZUF9TUCONNvENF9C5lb7GdyNXf/7oFiHKJ6EnAj7RugsHpWUamQRE1xJGZCjG1mJjwfAkbxn+CGUKApeaJSXevdqd8ul2tk= Dima@User-PC
            EOT
        }
        [1m[0mmetadata_fingerprint[0m[0m = "Fn3v2WoTTxU="
        [1m[0mname[0m[0m                 = "reddit-app-terraformed-1"
        [1m[0mproject[0m[0m              = "otus-hometasks"
        [1m[0mresource_policies[0m[0m    = []
        [1m[0mself_link[0m[0m            = "https://www.googleapis.com/compute/v1/projects/otus-hometasks/zones/europe-west2-c/instances/reddit-app-terraformed-1"
      [33m~[0m [0m[1m[0mtags[0m[0m                 = [
          [32m+[0m [0m"allow-health-check",
            "reddit-app",
        ]
        [1m[0mtags_fingerprint[0m[0m     = "M-ggixIz-AU="
        [1m[0mzone[0m[0m                 = "europe-west2-c"

        boot_disk {
            [1m[0mauto_delete[0m[0m = true
            [1m[0mdevice_name[0m[0m = "persistent-disk-0"
            [1m[0mmode[0m[0m        = "READ_WRITE"
            [1m[0msource[0m[0m      = "https://www.googleapis.com/compute/v1/projects/otus-hometasks/zones/europe-west2-c/disks/reddit-app-terraformed-1"

            initialize_params {
                [1m[0mimage[0m[0m  = "https://www.googleapis.com/compute/v1/projects/otus-hometasks/global/images/reddit-base-1599055934"
                [1m[0mlabels[0m[0m = {}
                [1m[0msize[0m[0m   = 10
                [1m[0mtype[0m[0m   = "pd-standard"
            }
        }

        network_interface {
            [1m[0mname[0m[0m               = "nic0"
            [1m[0mnetwork[0m[0m            = "https://www.googleapis.com/compute/v1/projects/otus-hometasks/global/networks/default"
            [1m[0mnetwork_ip[0m[0m         = "10.154.0.48"
            [1m[0msubnetwork[0m[0m         = "https://www.googleapis.com/compute/v1/projects/otus-hometasks/regions/europe-west2/subnetworks/default"
            [1m[0msubnetwork_project[0m[0m = "otus-hometasks"

            access_config {
                [1m[0mnat_ip[0m[0m       = "34.105.188.38"
                [1m[0mnetwork_tier[0m[0m = "PREMIUM"
            }
        }

        scheduling {
            [1m[0mautomatic_restart[0m[0m   = true
            [1m[0mon_host_maintenance[0m[0m = "MIGRATE"
            [1m[0mpreemptible[0m[0m         = false
        }

        shielded_instance_config {
            [1m[0menable_integrity_monitoring[0m[0m = true
            [1m[0menable_secure_boot[0m[0m          = false
            [1m[0menable_vtpm[0m[0m                 = true
        }
    }

[1m  # google_compute_instance.app[1][0m will be updated in-place[0m[0m
[0m  [33m~[0m[0m resource "google_compute_instance" "app" {
        [1m[0mcan_ip_forward[0m[0m       = false
        [1m[0mcpu_platform[0m[0m         = "Intel Broadwell"
        [1m[0mcurrent_status[0m[0m       = "RUNNING"
        [1m[0mdeletion_protection[0m[0m  = false
        [1m[0menable_display[0m[0m       = false
        [1m[0mguest_accelerator[0m[0m    = []
        [1m[0mid[0m[0m                   = "projects/otus-hometasks/zones/europe-west2-c/instances/reddit-app-terraformed-2"
        [1m[0minstance_id[0m[0m          = "9027010356214832302"
        [1m[0mlabel_fingerprint[0m[0m    = "42WmSpB8rSM="
        [1m[0mlabels[0m[0m               = {}
        [1m[0mmachine_type[0m[0m         = "f1-micro"
        [1m[0mmetadata[0m[0m             = {
            "ssh-keys" = <<~EOT
                Dima:ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAABgQDzkFFCmLAbrHZj8cGLVaSIHONQoekpNWp5v/WZsWfRT8bpB55TXWl6QcMFZRy7MuWVA2pJEOWXJhFfEf1dwp5rTUaXwOQvJZGYQBGyFbkIyNljDUcEWfbKM4S2OmZZ7pA6kcBi0EgPqAFix3UD/t8B6NY3pv7tnHgAu7jrWUHgqWYRYtOH5jmLQYvwVLna2vuXlun6T0cGGkKfhKwqkgx0DxY+4yt0rzM15l9Ij+8SoCP2dnzsWvq6SHfMaJzxgAdM7OvycsXlxNqg6gHsdKqBAVYdHX8DPMSIjc/sGSU94/nFOFUUtT4Rp5PNBpLjdAI/PS4fuDzQo0GYk+AIGqysjSugUQ86RbbYQNwIDCd3Zxsq3qwRVwfmKpwA/8AqcRwXlfX3Oi8TZyPSE1wWUh/Hpiua4+ywtHWWZUF9TUCONNvENF9C5lb7GdyNXf/7oFiHKJ6EnAj7RugsHpWUamQRE1xJGZCjG1mJjwfAkbxn+CGUKApeaJSXevdqd8ul2tk= Dima@User-PC
            EOT
        }
        [1m[0mmetadata_fingerprint[0m[0m = "Fn3v2WoTTxU="
        [1m[0mname[0m[0m                 = "reddit-app-terraformed-2"
        [1m[0mproject[0m[0m              = "otus-hometasks"
        [1m[0mresource_policies[0m[0m    = []
        [1m[0mself_link[0m[0m            = "https://www.googleapis.com/compute/v1/projects/otus-hometasks/zones/europe-west2-c/instances/reddit-app-terraformed-2"
      [33m~[0m [0m[1m[0mtags[0m[0m                 = [
          [32m+[0m [0m"allow-health-check",
            "reddit-app",
        ]
        [1m[0mtags_fingerprint[0m[0m     = "M-ggixIz-AU="
        [1m[0mzone[0m[0m                 = "europe-west2-c"

        boot_disk {
            [1m[0mauto_delete[0m[0m = true
            [1m[0mdevice_name[0m[0m = "persistent-disk-0"
            [1m[0mmode[0m[0m        = "READ_WRITE"
            [1m[0msource[0m[0m      = "https://www.googleapis.com/compute/v1/projects/otus-hometasks/zones/europe-west2-c/disks/reddit-app-terraformed-2"

            initialize_params {
                [1m[0mimage[0m[0m  = "https://www.googleapis.com/compute/v1/projects/otus-hometasks/global/images/reddit-base-1599055934"
                [1m[0mlabels[0m[0m = {}
                [1m[0msize[0m[0m   = 10
                [1m[0mtype[0m[0m   = "pd-standard"
            }
        }

        network_interface {
            [1m[0mname[0m[0m               = "nic0"
            [1m[0mnetwork[0m[0m            = "https://www.googleapis.com/compute/v1/projects/otus-hometasks/global/networks/default"
            [1m[0mnetwork_ip[0m[0m         = "10.154.0.50"
            [1m[0msubnetwork[0m[0m         = "https://www.googleapis.com/compute/v1/projects/otus-hometasks/regions/europe-west2/subnetworks/default"
            [1m[0msubnetwork_project[0m[0m = "otus-hometasks"

            access_config {
                [1m[0mnat_ip[0m[0m       = "34.105.145.232"
                [1m[0mnetwork_tier[0m[0m = "PREMIUM"
            }
        }

        scheduling {
            [1m[0mautomatic_restart[0m[0m   = true
            [1m[0mon_host_maintenance[0m[0m = "MIGRATE"
            [1m[0mpreemptible[0m[0m         = false
        }

        shielded_instance_config {
            [1m[0menable_integrity_monitoring[0m[0m = true
            [1m[0menable_secure_boot[0m[0m          = false
            [1m[0menable_vtpm[0m[0m                 = true
        }
    }

[1m  # google_compute_instance.app[2][0m will be updated in-place[0m[0m
[0m  [33m~[0m[0m resource "google_compute_instance" "app" {
        [1m[0mcan_ip_forward[0m[0m       = false
        [1m[0mcpu_platform[0m[0m         = "Intel Broadwell"
        [1m[0mcurrent_status[0m[0m       = "RUNNING"
        [1m[0mdeletion_protection[0m[0m  = false
        [1m[0menable_display[0m[0m       = false
        [1m[0mguest_accelerator[0m[0m    = []
        [1m[0mid[0m[0m                   = "projects/otus-hometasks/zones/europe-west2-c/instances/reddit-app-terraformed-3"
        [1m[0minstance_id[0m[0m          = "1622228636146146479"
        [1m[0mlabel_fingerprint[0m[0m    = "42WmSpB8rSM="
        [1m[0mlabels[0m[0m               = {}
        [1m[0mmachine_type[0m[0m         = "f1-micro"
        [1m[0mmetadata[0m[0m             = {
            "ssh-keys" = <<~EOT
                Dima:ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAABgQDzkFFCmLAbrHZj8cGLVaSIHONQoekpNWp5v/WZsWfRT8bpB55TXWl6QcMFZRy7MuWVA2pJEOWXJhFfEf1dwp5rTUaXwOQvJZGYQBGyFbkIyNljDUcEWfbKM4S2OmZZ7pA6kcBi0EgPqAFix3UD/t8B6NY3pv7tnHgAu7jrWUHgqWYRYtOH5jmLQYvwVLna2vuXlun6T0cGGkKfhKwqkgx0DxY+4yt0rzM15l9Ij+8SoCP2dnzsWvq6SHfMaJzxgAdM7OvycsXlxNqg6gHsdKqBAVYdHX8DPMSIjc/sGSU94/nFOFUUtT4Rp5PNBpLjdAI/PS4fuDzQo0GYk+AIGqysjSugUQ86RbbYQNwIDCd3Zxsq3qwRVwfmKpwA/8AqcRwXlfX3Oi8TZyPSE1wWUh/Hpiua4+ywtHWWZUF9TUCONNvENF9C5lb7GdyNXf/7oFiHKJ6EnAj7RugsHpWUamQRE1xJGZCjG1mJjwfAkbxn+CGUKApeaJSXevdqd8ul2tk= Dima@User-PC
            EOT
        }
        [1m[0mmetadata_fingerprint[0m[0m = "Fn3v2WoTTxU="
        [1m[0mname[0m[0m                 = "reddit-app-terraformed-3"
        [1m[0mproject[0m[0m              = "otus-hometasks"
        [1m[0mresource_policies[0m[0m    = []
        [1m[0mself_link[0m[0m            = "https://www.googleapis.com/compute/v1/projects/otus-hometasks/zones/europe-west2-c/instances/reddit-app-terraformed-3"
      [33m~[0m [0m[1m[0mtags[0m[0m                 = [
          [32m+[0m [0m"allow-health-check",
            "reddit-app",
        ]
        [1m[0mtags_fingerprint[0m[0m     = "M-ggixIz-AU="
        [1m[0mzone[0m[0m                 = "europe-west2-c"

        boot_disk {
            [1m[0mauto_delete[0m[0m = true
            [1m[0mdevice_name[0m[0m = "persistent-disk-0"
            [1m[0mmode[0m[0m        = "READ_WRITE"
            [1m[0msource[0m[0m      = "https://www.googleapis.com/compute/v1/projects/otus-hometasks/zones/europe-west2-c/disks/reddit-app-terraformed-3"

            initialize_params {
                [1m[0mimage[0m[0m  = "https://www.googleapis.com/compute/v1/projects/otus-hometasks/global/images/reddit-base-1599055934"
                [1m[0mlabels[0m[0m = {}
                [1m[0msize[0m[0m   = 10
                [1m[0mtype[0m[0m   = "pd-standard"
            }
        }

        network_interface {
            [1m[0mname[0m[0m               = "nic0"
            [1m[0mnetwork[0m[0m            = "https://www.googleapis.com/compute/v1/projects/otus-hometasks/global/networks/default"
            [1m[0mnetwork_ip[0m[0m         = "10.154.0.49"
            [1m[0msubnetwork[0m[0m         = "https://www.googleapis.com/compute/v1/projects/otus-hometasks/regions/europe-west2/subnetworks/default"
            [1m[0msubnetwork_project[0m[0m = "otus-hometasks"

            access_config {
                [1m[0mnat_ip[0m[0m       = "34.105.235.15"
                [1m[0mnetwork_tier[0m[0m = "PREMIUM"
            }
        }

        scheduling {
            [1m[0mautomatic_restart[0m[0m   = true
            [1m[0mon_host_maintenance[0m[0m = "MIGRATE"
            [1m[0mpreemptible[0m[0m         = false
        }

        shielded_instance_config {
            [1m[0menable_integrity_monitoring[0m[0m = true
            [1m[0menable_secure_boot[0m[0m          = false
            [1m[0menable_vtpm[0m[0m                 = true
        }
    }

[0m[1mPlan:[0m 1 to add, 3 to change, 0 to destroy.[0m

------------------------------------------------------------------------

Note: You didn't specify an "-out" parameter to save this plan, so Terraform
can't guarantee that exactly these actions will be performed if
"terraform apply" is subsequently run.

